---
import "../styles/global.css";
const { title, description } = Astro.props;
---

<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>{title}</title>
  <meta name="description" content={description} />
  <meta name="keywords" content="eventos, bodas, fiestas, organización, decoraciones, eventos corporativos, Tuxtla Gutiérrez, Chiapas" />
  <meta name="author" content="Organizadora Eventos - By Team 3" />
  
  <!-- SEO Local -->
  <meta name="geo.region" content="MX-CHP" />
  <meta name="geo.placename" content="Tuxtla Gutiérrez" />
  <meta name="geo.position" content="16.7597;-93.1131" />
  <meta name="ICBM" content="16.7597, -93.1131" />

  <!-- Favicon -->
  <link rel="icon" type="image/webp" href="/img/logop.webp" />
  <link rel="shortcut icon" href="/img/logop.ico" type="image/x-icon" />

  <!-- Open Graph / Facebook -->
  <meta property="og:title" content={title} />
  <meta property="og:description" content={description} />
  <meta property="og:image" content="/img/hero.webp" />
  <meta property="og:url" content="https://tusitio.com" />
  <meta property="og:type" content="website" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={title} />
  <meta name="twitter:description" content={description} />
  <meta name="twitter:image" content="/img/hero.webp" />

  <!-- Tipografías -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="font-sans bg-neutral text-dark">
  <slot name="navbar" />
  <main class="min-h-screen">
    <slot />
  </main>
  <slot name="footer" />

  <!-- Lightbox global -->
  <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-80 items-center justify-center hidden z-[9999]">
    <span id="lightbox-close" class="absolute top-6 right-8 text-white text-4xl cursor-pointer select-none">&times;</span>
    <img id="lightbox-img" src="" alt="Vista ampliada" class="max-w-[90%] max-h-[90%] rounded-lg shadow-2xl transition-transform duration-300" />
  </div>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img") as HTMLImageElement | null;
    const lightboxClose = document.getElementById("lightbox-close");

    if (lightbox && lightboxImg) {
      document.querySelectorAll(".clickable-img").forEach((img) => {
        img.addEventListener("click", () => {
          lightboxImg.src = (img as HTMLImageElement).src;
          lightbox.classList.remove("hidden");
          lightbox.classList.add("flex");
          document.body.style.overflow = "hidden";
        });
      });

      if (lightboxClose) {
        lightboxClose.addEventListener("click", () => {
          lightbox.classList.add("hidden");
          lightbox.classList.remove("flex");
          document.body.style.overflow = "";
        });
      }

      lightbox.addEventListener("click", (e) => {
        if (e.target === lightbox) {
          lightbox.classList.add("hidden");
          lightbox.classList.remove("flex");
          document.body.style.overflow = "";
        }
      });
    }
  });
</script>
</body>
</html>
